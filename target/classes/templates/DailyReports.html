<!DOCTYPE html>
<html lang="en">

<head>

<!-- TITLE -->	
	<title>Daily Reports</title>

<!-- HEAD CONTENT -->		
    <div th:replace="~{fragments/head :: head}"></div>	

</head>

<body>

<!-- HEADER -->
 	<div th:replace="~{fragments/header :: header}"></div>

<!-- SIDEBAR -->
 	<div th:replace="~{fragments/sidebar :: sidebar}"></div>

<!-- MAIN -->
<main id="main" class="main">

	<div class="pagetitle">
		<h1>Daily Reports</h1>
	</div>

	<section class="section">
		<div class="row">
			<div class="card">
				<div class="card-body">

					<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addModal">Add Daily Report</button>
              
<!-- TABLE -->
				<table class="table datatable">
					<thead>
						<tr>
							<th>Date</th>
							<th>Address</th>							
							<th>Weather</th>
							<th>Comment</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="dailyReports:${dailyreports}">
							<td th:text="${dailyReports.date}"></td>
							<td th:text="${dailyReports.address}"></td>
							<td th:text="${dailyReports.weather}"></td>
							<td th:text="${dailyReports.comment}"></td>
							<td>
								<div class="btn-group">
									<a th:href="@{/dailyreports/findById(id=${dailyReports.id})}" class="btn btn-primary" id="editButton"
									data-bs-toggle="modal" data-bs-target="#editModal">Edit</a>
									
									<a th:href="@{/dailyreports/delete(id=${dailyReports.id})}" class="btn btn-danger" id="deleteButton"
									data-bs-toggle="modal" data-bs-target="#deleteModal">Delete</a>						     
								</div>
							</td>
						</tr>
					</tbody>
				</table>
<!-- END TABLE -->
		
				</div>
			</div>
		</div>
	</section>
</main>
<!-- END MAIN -->

<!-- ADD MODAL -->
<div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addModalLabel">New Daily Report</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form th:action="@{/dailyreports/addNew}" method="post">
          
          <div class="mb-3">
            <label for="date" class="col-form-label">Date:</label>
            <input type="date" class="form-control" id="dateAdd" name="date" required>
          </div>

          <div class="mb-3">
            <label for="zipCode" class="col-form-label">Zip Code:</label>
            <input type="text" class="form-control" id="zipCodeAdd" name="zipCode">
          </div>

          <div class="mb-3">
            <label for="address" class="col-form-label">Address:</label>
            <input type="text" class="form-control" id="addressAdd" name="address">
          </div>
          
          <div class="mb-3">
            <label for="weather" class="col-form-label">Weather:</label>
            <input type="text" class="form-control" id="weatherAdd" name="weather">
          </div>
       
          <div class="mb-3">
            <label for="comment" class="col-form-label">Comment:</label>
            <input type="text" class="form-control" id="commentAdd" name="comment">
          </div>
  
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </div>
  </div>
</form>
</div>
<!-- END ADD MODAL -->

<!-- EDIT MODAL -->
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
 <form th:action="@{/dailyreports/update}" method="put"> 
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editModalLabel">Edit Daily Report Data</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

          <div class="form-group">
            <input type="hidden" class="form-control" id="idEdit" name="id" readonly>
          </div>
        
          <div class="form-group">
            <label for="date" class="col-form-label">Date:</label>
            <input type="date" class="form-control" id="dateEdit" name="date" required>
          </div>

          <div class="form-group">
            <label for="address" class="col-form-label">Address:</label>
            <input type="text" class="form-control" id="addressEdit" name="address">
          </div>
          
          <div class="form-group">
            <label for="weather" class="col-form-label">Weather:</label>
            <input type="text" class="form-control" id="weatherEdit" name="weather">
          </div>

          <div class="form-group">
            <label for="comment" class="col-form-label">Comment:</label>
            <input type="text" class="form-control" id="commentEdit" name="comment">
          </div>   
                 
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>
</form>
</div>
<!-- END EDIT MODAL -->

<!-- DELETE MODAL -->
    <div th:replace="~{fragments/delete :: delete}"></div>	

<!-- BACK TO TOP -->
	<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<!-- JAVASCRIPT -->
<div th:replace="~{fragments/javascript :: javascript}"></div>
<script src="assets/js/dailyReports.js"></script>

</body>

</html>